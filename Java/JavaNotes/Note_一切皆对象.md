
"如果我们说另一种不同的语言，那么我们就会发觉一个有些不同对的世界。"  -Luduing Wittgerstein(1889-1951)

## 用引用操纵对象

在java中，尽管一切都看作`对象`，但操纵的标识符实际上是对象的一个`引用`。

> Eg：可以将这一个场景想象成用`遥控器(引用)`来操纵电视机（对象）。只要握住这个遥控器，就可以保持与电视机的连接。当有人想改变频道或者减少音量的时候，实际操控的是`遥控器（引用）`，再由遥控器来调控`电视机（对象）`。如果想在房间四处走走，同时仍能控制电视机，那么只需要携带`遥控器（引用）`而不是`电视机（对象）`。此外，即使没有电视机，遥控器也可以单独存在。

## 存储到什么地方

- 寄存器
  - 这是最快的存储，位于存储器内部
  - 寄存器的数量极其有限，所有寄存器根据需要进行分配
  - 你不能直接控制，也不能再程序中感觉到寄存器存在的任何迹象

- 栈
  - 位于RAM中，通过堆栈指针可以从处理器那里获得直接支持
  - 堆栈指针向下移动，则分配新的内存。堆栈指针向上移动，则释放那些内存
  - 创建程序时，java系统必须知道存储在堆栈内的所有项的生命周期，以便上下移动堆栈指针，约束了java的灵活性
  - 虽然某些java数据存储在堆栈中，特别是对象的引用，但java对象并不存储在其中

<!-- more --> 

- 堆
  - 一种通用的内存池（在RAM中），用于存放所有的java对象。
  - 堆与堆栈的不同是：编译器不需要知道存储的数据在堆里存活多长时间，因此在堆里分配有很大的灵活性
  - 当需要一个对象的时候，new一个就可以，当执行这行代码时候，会自动在堆里进行存储分配
  - 这种灵活性的代价：用堆进行存储分配和清理可能比用堆栈进行存储分配需要更长的世界

- 常量存储
  - 常量值通过存储于代码内部，这样做是安全的，因为他们永远不会被改变

- 非ROM存储
  - 如果数据完全存活于程序之外，那么它可以不受程序的任何控制，在程序没有运行时也可以存在
  - 例子：流对象和持久化对象

> 补充：堆是对象区，栈是自动回收的，堆需要手动回收，只有java里面有gc，c必须手动对堆区free或者delete
> @感谢 ： [龙伟](http://www.jackway.cn/)

## 特例：基本类型

在程序设计中，常用到一些列类型，他们需要特殊对待。可以把他们想成“基本”类型，之所以特殊对待，是因为new将对象存储在堆里，故用new创建一个对象-特别是小的，简单的变量，往往不是很有效，因此对于这种类型，不用new来创建变量，而是创建一个并非是引用的“自动变量”。这个变量直接存储“值”并置于堆栈中，因此更加高效。

> 所占存储空间大小的不变性是java程序比其他大多数语言编写程序更具有可移植的原因之一。

基本类型具有的包装类，使得可以在堆里创建一个非基本对象，用来变色对应的基本类型，例如：

```java
  char c = 'x';
  Character ch = new Character(c);

  //也可以

  Character ch = new Character ('x');

```

## java中的数组

> java的主要目标之一是安全性

Java确保数组会被初始化，而且不能在它的范围之外被访问，这种范围检查，是以每个数组少量的内存开销及运行时的下标检查为代码的。但由此换来的是安全性和效率的提高，因为付出的代码时值得的（并且java有时候可以优化操作）

## 永远不需要销毁对象

### 作用域
> 作用域决定了在其内定义的变量名的可见性和生命周期

```Java
	{

	int x =12 ;
	{
		int x = 96 ; //Illegral
	}

}
```
尽管上述代码在C和C++中是合法的，但是在java中却不能这么书写
编译器会报告变量已经定义过了，所以，在C和C++里将一个较大作用域的变量隐藏起来的做法在java中是不允许的，因为java设计者认为这样做会导致程序混乱、

### 对象的作用域

> java对象不具备和基本类型一样的生命周期。当用new创建一个java对象时，在可以存活于作用域之外。

如果让java对象继续存在，那么靠什么才能防止这些对象填满内存空间，进而阻塞你的程序呢？这正是C++里可能发生的问题，这也正是java神奇所在，java有一个垃圾回收器，用来监视用new创建的所有对象，并辨别那些不会被阴影的对象，随后，释放这些对象的内存空间，以便供其他新的对象使用，也就是说，你根本不必担心内存回收问题，你只需要创建对象，一旦不需要，他们就会自行释放。


## 创建新的数据类型：类

### 基本成员默认值

> 若类的某个成员是基本数据类型，即使没有进行初始化，java也会确保它获得一个默认值

当变量作为`类的成员变量`使用时，java才确保给定其默认值，以确保那些是基本类型的成员变量得到初始化（C++没有这个功能），防止产生程序错误

然而上述确保初始化的方法`并不适应于局部变量`。

### 方法、参数和返回值

Eg: 

```java
	int x = a.f();
```

这种调用方法的行为通常被称为发送消息给对象。在上面例子中年，消息是f()，对象是a。
面向对象的程序设计通常简单的归纳为“向对象发送消息”。

## 构建第一个java程序

### static 关键字

static满足下面两方面需要：

- 只想为某特定于分配单一存储空间，而不去考虑究竟要创建多个对象，甚至根本不需要创建任何对象
- 希望某个方法不与包含它的类的任何对象关联在一起。也就是说没有创建对象，也能调用这个方法

调用：

```java
	 Hello hello = new Hello();
	 hello.say();  //say为Hello中的static方法

	 //第二种

	 Hello.say(); 

```

## 你的第一个java程序

> java.lang 默认是导入到每个java文件中，所以它的所有类都可以被直接使用

## 一些标签实例

> 这里介绍一些可用于代码文档的javadoc标签

- @see：引用其他类
  - 允许用户引用其他类的文档
  - 生成的文档中加入一个具有超链接的See Also（参见）条目

- {@link package.class#member label}
  - 用于行内，并且使用label作为超链接文本而不用see also

- {@docRoot}
  - 该标签产生到文档根目录的相对路径，用于文档树页面的显式超链接

- @version
- @author 
- @since
  - 该标签允许你指定程序代码最早使用的版本

- @param
- @return 
- @throws
- @deprecated
  - 该标签用于支持一些旧特性已由改进的新特性所取代
